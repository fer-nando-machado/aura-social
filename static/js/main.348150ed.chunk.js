(this["webpackJsonpaura-social"]=this["webpackJsonpaura-social"]||[]).push([[0],{20:function(e,t,a){e.exports=a(39)},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},33:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),o=a.n(r),s=(a(25),a(18)),i=a(1),u=a(3);a(26),a(27);var m=function(e){var t="Header "+(e.inner?"HeaderInner":"");return c.a.createElement("div",{className:t},c.a.createElement("a",{href:"/aura-social/"},c.a.createElement("img",{src:"".concat("/aura-social/images/","lotus.svg"),alt:""})),c.a.createElement("div",{className:"HeaderTitle"},"Aura SociaL"))};a(28);var l=function(){return c.a.createElement("div",{className:"Footer"},c.a.createElement("a",{className:"Link",href:"https://github.com/fernandomachado90/aura-social"},c.a.createElement("span",null,"Made with \u2661 by Fernando Machado"))," | ",c.a.createElement("a",{className:"Link",href:"https://www.flaticon.com/authors/good-ware"},c.a.createElement("span",null,"Icons by Good Ware")))};a(29);var h=function(){return c.a.createElement("a",{className:"InstagramAccess Link",href:"https://api.instagram.com/oauth/authorize?client_id=784647572278376&redirect_uri=https://fernandomachado90.github.io/aura-social/&scope=user_profile,user_media&response_type=code"},c.a.createElement("img",{src:"".concat("/aura-social/images/","instagram.svg"),alt:"Continue with Instagram"}),c.a.createElement("span",null,"Continue with Instagram"))};a(30);var d=function(e){var t=e.message;return c.a.createElement("div",{className:"InstagramError Content"},c.a.createElement("span",null,t),c.a.createElement("p",null,c.a.createElement("a",{className:"Link",href:"/aura-social/"},c.a.createElement("span",null,"Try Again"))))};a(31);var _=function(e){var t=e.message;return c.a.createElement("div",{className:"InstagramStep Content"},c.a.createElement("img",{src:"".concat("/aura-social/images/","instagram.svg"),alt:""}),c.a.createElement("span",null,t))},f=a(7),g=a.n(f),p=a(10),b=new(a(17).a),v={getPalette:function(e,t){return 1===t?[b.getColor(e,1)]:b.getPalette(e,t>10?10:t,1)},rgb2hsv:function(e){var t=Object(u.a)(e,3),a=t[0],n=t[1],c=t[2],r=Math.max(a,n,c),o=r-Math.min(a,n,c),s=o&&(r===a?(n-c)/o:r===n?2+(c-a)/o:4+(a-n)/o);return[60*(s<0?s+6:s),r&&o/r,r]},hsv2rgb:function(e){var t=Object(u.a)(e,3),a=t[0],n=t[1],c=t[2],r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+a/60)%6;return c-c*n*Math.max(Math.min(t,4-t,1),0)};return[r(5),r(3),r(1)]},rgb2hsl:function(e){var t=Object(u.a)(e,3),a=t[0],n=t[1],c=t[2],r=Math.max(a,n,c),o=r-Math.min(a,n,c),s=1-Math.abs(r+r-o-1),i=o&&(r===a?(n-c)/o:r===n?2+(c-a)/o:4+(a-n)/o);return[60*(i<0?i+6:i),s?o/s:0,(r+r-o)/2]},hsl2rgb:function(e){var t=Object(u.a)(e,3),a=t[0],n=t[1],c=t[2],r=n*Math.min(c,1-c),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+a/30)%12;return c-r*Math.max(Math.min(t-3,9-t,1),-1)};return[o(0),o(8),o(4)]},sort3D:function(e,t){var a=Object(u.a)(e,3),n=a[0],c=a[1],r=a[2],o=Object(u.a)(t,3),s=o[0],i=o[1],m=o[2];return n-s||c-i||r-m}},E={palette:[[105,72,48],[235,222,200],[238,134,99],[40,35,21],[182,160,124],[182,85,59],[199,175,171],[155,132,116],[60,57,92],[60,116,36],[45,44,48],[215,209,196],[143,133,116],[71,80,148],[117,128,193],[164,178,205],[102,94,80],[114,116,106],[183,141,89],[182,116,90],[191,177,155],[96,92,51],[112,152,55],[11,13,9],[97,111,148],[55,90,30],[53,42,25],[157,127,47],[156,55,48],[45,54,81],[214,215,178],[49,44,19],[158,187,169],[147,134,80],[123,147,168],[111,125,71],[79,91,99],[201,189,53],[108,87,46],[182,98,51],[242,169,115],[51,21,11],[206,124,79],[126,74,48],[245,236,215],[90,42,23],[99,84,67],[165,140,140],[140,155,100],[99,76,76],[157,148,140],[27,27,29],[235,228,215],[84,54,54],[96,92,93],[126,93,62],[224,181,149],[196,191,213],[24,97,215],[26,189,238],[204,184,153],[45,36,28],[131,86,56],[206,212,221],[157,117,87],[126,112,88],[155,143,119],[182,135,96],[127,81,78],[84,84,92],[209,209,209],[4,4,4],[86,86,86],[124,124,124],[132,132,132],[116,116,116],[140,140,140],[60,60,60],[52,52,52],[39,39,39],[175,159,126],[76,63,34],[237,235,230],[136,118,83],[117,91,61],[207,195,167],[161,163,159],[193,194,192],[179,161,160],[100,124,92],[211,204,178],[25,37,38],[141,188,158],[145,135,102],[84,134,97],[111,143,180],[94,88,59],[64,91,110],[194,139,68],[206,68,126]],paletteRandomizer:function(e){return Array.from({length:e},(function(){return[Math.floor(255*Math.random()),Math.floor(255*Math.random()),Math.floor(255*Math.random())]}))},media:{username:"fernandomach7do",images:["https://scontent.cdninstagram.com/v/t51.29350-15/117176521_328948601576332_3580294707538157938_n.jpg?_nc_cat=107&_nc_sid=8ae9d6&_nc_ohc=MrefkDnMkCwAX9q9ctk&_nc_ht=scontent.cdninstagram.com&oh=6a68c0a41d35c55d49dfba363b374090&oe=5F5EA1B8","https://scontent.cdninstagram.com/v/t51.29350-15/116152103_3278136882252701_7056569430226544631_n.jpg?_nc_cat=111&_nc_sid=8ae9d6&_nc_ohc=JNEgFwB3VC4AX97cSVx&_nc_ht=scontent.cdninstagram.com&oh=e14b9679f494be0c7b81f672d2f37bce&oe=5F62225F","https://scontent.cdninstagram.com/v/t51.29350-15/116029059_181243413436806_7740132137588175238_n.jpg?_nc_cat=108&_nc_sid=8ae9d6&_nc_ohc=WYwhX7P6QHoAX_hVBXc&_nc_ht=scontent.cdninstagram.com&oh=f14c4d420e5ba0d3375bb4b28699f2e7&oe=5F5FE652","https://scontent.cdninstagram.com/v/t51.29350-15/109713109_148663446831905_8162988032588923998_n.jpg?_nc_cat=102&_nc_sid=8ae9d6&_nc_ohc=NiGNTvzLiVcAX_Rpjv-&_nc_ht=scontent.cdninstagram.com&oh=4fdb1e4701c3d65e3de63b99fe34763b&oe=5F5EF3E8","https://scontent.cdninstagram.com/v/t51.29350-15/109330312_2728078110769959_2121900022953024726_n.jpg?_nc_cat=102&_nc_sid=8ae9d6&_nc_ohc=Cy0-VX1jDIAAX-7KZFv&_nc_ht=scontent.cdninstagram.com&oh=56448025b24a62c0a625d73034f81fe6&oe=5F601C0A","https://scontent.cdninstagram.com/v/t51.29350-15/106495309_272734894070833_3238430162469291771_n.jpg?_nc_cat=101&_nc_sid=8ae9d6&_nc_ohc=d6_099FGWXwAX9jda9_&_nc_ht=scontent.cdninstagram.com&oh=71acc19822bc7f3907792f4b5c341006&oe=5F5E6346","https://scontent.cdninstagram.com/v/t51.2885-15/105991651_2541224309541227_7424953594867359384_n.jpg?_nc_cat=110&_nc_sid=8ae9d6&_nc_ohc=cAKp9eRFBmkAX_Wi9zA&_nc_ht=scontent.cdninstagram.com&oh=9702c1ecfec2eb6becc05423d09d6a35&oe=5F5E8343","https://scontent.cdninstagram.com/v/t51.2885-15/101783451_555154281862559_5628238671235761802_n.jpg?_nc_cat=100&_nc_sid=8ae9d6&_nc_ohc=0b7Uu_HkFDwAX-Dg2KB&_nc_ht=scontent.cdninstagram.com&oh=08c6fcb3bc303099c5a0854895828088&oe=5F5EEDBC","https://scontent.cdninstagram.com/v/t51.2885-15/100971995_2747750818793457_6405836337224637861_n.jpg?_nc_cat=109&_nc_sid=8ae9d6&_nc_ohc=h9LFsx2Zb74AX-Ae7fm&_nc_ht=scontent.cdninstagram.com&oh=4988b85c07a0b5c3b309bcdac499566f&oe=5F5E6FEF","https://scontent.cdninstagram.com/v/t51.2885-15/94422693_657440651492515_2880693995765655165_n.jpg?_nc_cat=104&_nc_sid=8ae9d6&_nc_ohc=xNBUS8mdu_YAX8gZbhE&_nc_ht=scontent.cdninstagram.com&oh=e7f50f97554b7fee778ddb477f0344fb&oe=5F622910"]}};a(33);var j=function(e){var t=e.media,a=Object(n.useState)(0),r=Object(u.a)(a,2),o=r[0],s=r[1],i=Object(n.useState)([]),m=Object(u.a)(i,2),l=m[0],h=m[1],d=Object(n.useState)(),_=Object(u.a)(d,2),f=_[0],b=_[1],E=t.username,j=t.images,w=j.length,O=o<w,k=Math.floor(100*o/w);function F(){return(F=Object(p.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=v.getPalette(t,1),h(l.concat(a)),s(o+1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){if(!O){var e=l.map((function(e){return{rgb:e,hsl:v.rgb2hsl(e)}})).sort((function(e,t){return v.sort3D(e.hsl,t.hsl)})).map((function(e){return"rgb(".concat(e.rgb.toString(),")")})),t=new window.ConicGradient({stops:e.toString(),repeating:!1});b("url(".concat(t.dataURL,")"))}}),[l,O]),c.a.createElement("div",{className:"InstagramMedia Content"},O&&c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{crossOrigin:"anonymous",alt:"",src:j[o],onLoad:function(e){return function(e){return F.apply(this,arguments)}(e.target)}}),c.a.createElement("span",null,k,"%")),!O&&c.a.createElement("div",{className:"aura",style:{backgroundImage:f}}),"@",E)},w={authorize:function(){var e=Object(p.a)(g.a.mark((function e(t){var a,n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://aura-social.herokuapp.com/authorize",a={client_id:"784647572278376",redirect_uri:"https://fernandomachado90.github.io/aura-social/",code:t},e.next=5,fetch("https://aura-social.herokuapp.com/authorize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 5:return n=e.sent,e.next=8,n.json();case 8:if(!(c=e.sent).user_id){e.next=11;break}return e.abrupt("return",c.access_token);case 11:throw new Error(c.error_message);case 14:throw e.prev=14,e.t0=e.catch(0),e.t0.message;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),fetchMedia:function(){var e=Object(p.a)(g.a.mark((function e(t){var a,n,c,r,o,s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a="https://graph.instagram.com/me/media?fields=username,media_type,media_url,thumbnail_url&access_token="+t,n=[],c="";case 4:if(!a){e.next=18;break}return e.next=7,fetch(a);case 7:return r=e.sent,e.next=10,r.json();case 10:if(!(o=e.sent).error){e.next=13;break}throw new Error(o.error);case 13:for(s=0;s<o.data.length;s++)i=o.data[s],n.push("VIDEO"===i.media_type?i.thumbnail_url:i.media_url);c=o.data[0].username,a=o.paging.next,e.next=4;break;case 18:return e.abrupt("return",{username:c,images:n});case 21:throw e.prev=21,e.t0=e.catch(0),e.t0.message;case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}()};var O=function(e){var t=e.query,a=Object(n.useState)(0),r=Object(u.a)(a,2),o=r[0],s=r[1],i=Object(n.useState)(),f=Object(u.a)(i,2),g=f[0],p=f[1],b=Object(n.useState)(),v=Object(u.a)(b,2),O=v[0],k=v[1],F=Object(n.useState)(),M=Object(u.a)(F,2),y=M[0],A=M[1],x=Object(n.useState)(),S=Object(u.a)(x,2),N=S[0],X=S[1];return Object(n.useEffect)((function(){t&&(t.code?k(t.code):t.error?p(t.error):t.debug&&X(E.media))}),[t]),Object(n.useEffect)((function(){O&&w.authorize(O).then((function(e){return A(e)})).catch((function(e){return p(e)}))}),[O]),Object(n.useEffect)((function(){y&&w.fetchMedia(y).then((function(e){return X(e)})).catch((function(e){return p(e)}))}),[y]),Object(n.useEffect)((function(){g?s(9):N?s(3):y?s(2):O&&s(1)}),[g,O,y,N]),c.a.createElement("div",{className:"Home"},c.a.createElement(m,{inner:o>0}),{0:c.a.createElement(h,null),1:c.a.createElement(_,{message:"Authorizing..."}),2:c.a.createElement(_,{message:"Fetching media..."}),3:c.a.createElement(j,{media:N}),9:c.a.createElement(d,{message:g})}[o],c.a.createElement(l,null))};var k=function(e){return function(){var t=new URLSearchParams(Object(i.e)().search),a={error:t.get("error_description"),code:t.get("code"),debug:t.get("debug")};return c.a.createElement(e,{query:a})}};var F=function(){var e=k(O);return c.a.createElement(s.a,null,c.a.createElement(i.a,{path:"/"},c.a.createElement(e,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.348150ed.chunk.js.map