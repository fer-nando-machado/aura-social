(this["webpackJsonpaura-social"]=this["webpackJsonpaura-social"]||[]).push([[0],{19:function(e,a,t){e.exports=t(36)},24:function(e,a,t){},26:function(e,a,t){},27:function(e,a,t){},28:function(e,a,t){},29:function(e,a,t){},30:function(e,a,t){},36:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(15),o=t.n(c),s=(t(24),t(17)),i=t(1),l=t(10),u=t.n(l),m=t(16),d=t(8);t(26),t(27);var f=function(e){var a=e.className;return r.a.createElement("div",{className:"Header ".concat(a)},r.a.createElement("img",{src:"/aura-social/images/lotus.svg",alt:""}),r.a.createElement("div",{className:"HeaderTitle"},"Aura SociaL"))};t(28);var h=function(){return r.a.createElement("div",{className:"Footer"},r.a.createElement("a",{className:"Link",href:"https://github.com/fernandomachado90/aura-social"},r.a.createElement("span",null,"Made with \u2661 by Fernando Machado"))," | ",r.a.createElement("a",{className:"Link",href:"https://www.flaticon.com/authors/good-ware"},r.a.createElement("span",null,"Icons by Good Ware")))};t(29);var E=function(){return r.a.createElement("a",{className:"InstagramAccess Link",href:"https://api.instagram.com/oauth/authorize?client_id=784647572278376&redirect_uri=https://fernandomachado90.github.io/aura-social/&scope=user_profile,user_media&response_type=code"},r.a.createElement("img",{src:"/aura-social/images/instagram.svg",alt:""}),r.a.createElement("span",null,"Continue with Instagram"))};t(30);var p=function(e){var a=e.message;return r.a.createElement("div",{className:"InstagramError"},a,r.a.createElement("p",null,r.a.createElement("a",{className:"Link",href:"/aura-social/"},r.a.createElement("span",null,"Try Again"))))};var g=function(e){var a=e.query,t=Object(n.useState)(0),c=Object(d.a)(t,2),o=c[0],s=c[1],i=Object(n.useState)(),l=Object(d.a)(i,2),g=l[0],v=l[1],O=Object(n.useState)(),b=Object(d.a)(O,2),w=b[0],S=b[1],j=Object(n.useState)(),R=Object(d.a)(j,2),y=R[0],N=R[1];Object(n.useEffect)((function(){a&&(a.code?(v(a.code),s(k.AUTHORIZE)):a.error&&(S(a.error),s(k.ERROR)))}),[a]),Object(n.useEffect)((function(){if(g){var e={client_id:"784647572278376",redirect_uri:"https://fernandomachado90.github.io/aura-social/",code:g};(function(){var a=Object(m.a)(u.a.mark((function a(){var t,n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("https://aura-social.herokuapp.com/authorize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return t=a.sent,a.next=5,t.json();case 5:(n=a.sent).user_id?(N(n.access_token),s(k.PROCESS)):(S(n.error_message||"Unexpected error"),s(k.ERROR),console.warn(n));case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}}),[g]),Object(n.useEffect)((function(){y&&console.log("// TODO...")}),[y]);var k={ACCESS:0,ERROR:1,AUTHORIZE:2,PROCESS:3};return r.a.createElement("div",{className:"Home"},r.a.createElement(f,{className:o>k.ACCESS?"HeaderInner":""}),{0:r.a.createElement(E,null),1:r.a.createElement(p,{message:w}),2:r.a.createElement(r.a.Fragment,null,"Authorizing..."),3:r.a.createElement(r.a.Fragment,null,"Processing...")}[o],r.a.createElement(h,null))};function v(){var e=new URLSearchParams(Object(i.e)().search),a={error:e.get("error_description"),code:e.get("code")};return r.a.createElement(g,{query:a})}var O=function(){return r.a.createElement(s.a,null,r.a.createElement(i.a,{path:"/"},r.a.createElement(v,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.43c03d70.chunk.js.map